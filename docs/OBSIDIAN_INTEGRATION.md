# 🟣 Theology AI Lab X Obsidian 연동 가이드 (v2.6)

Theology AI Lab은 단순한 검색 도구를 넘어, 사용자님의 **Obsidian '제2의 뇌'**와 유기적으로 결합하여 신학 연구의 워크플로우를 완성하도록 설계되었습니다. 연동 방식은 크게 3단계로 나뉩니다.

---

## 1단계: 데이터 연동 (검색 결과를 지식으로)

가장 기본적이고 강력한 연동입니다. 검색 결과를 수동으로 복사·붙여넣기 할 필요 없이 클릭 한 번으로 옵시디언 볼트에 저장합니다.

### 💾 직접 저장 기능
- **작동 방식**: GUI 하단의 **'🟣 옵시디언 저장'** 버튼을 클릭하면, 현재 설정된 옵시디언 Vault 경로 내에 마크다운(` .md`) 파일이 즉시 생성됩니다.
- **파일명 규칙**: `검색_검색어_20251230_2000.md`와 같이 검색어와 날짜/시간이 자동으로 포함되어 중복을 방지합니다.
- **저장 영역**: 
    - **검색 리포트**: 전체 검색 결과 요약본을 저장합니다.
    - **AI 분석 리포트**: AI가 작성한 심층 분석 내용을 독립된 노트로 저장합니다.

### 🗂️ 다중 볼트 관리 (v2.3+)
- 설정 페이지에서 **최근 사용된 볼트 5개**의 이력을 기억합니다.
- '연구용 볼트', '강의용 볼트', '아카이브 볼트' 등 여러 성격의 볼트를 상황에 따라 빠르게 전환하며 지식을 분산 저장할 수 있습니다.

---

## 2단계: UI 통합 (옵시디언 안에서 검색하기)

매번 브라우저를 켜지 않고 옵시디언 탭이나 사이드바에서 신학 DB를 바로 검색하는 방법입니다.

### 🖼️ Custom Frames 플러그인 활용 (추천)
1. 옵시디언 커뮤니티 플러그인에서 **Custom Frames**를 설치합니다.
2. 플러그인 설정(`Settings` -> `Custom Frames`)에서 **`Add Frame`** 버튼을 클릭합니다.
3. 다음 항목을 정확히 입력합니다:
   - **Name**: `Theology AI Lab` (명령어 팔레트에 표시될 이름)
   - **URL**: `http://localhost:8501` (시스템이 실행 중이어야 합니다)
   - **Icon**: `book-open` 또는 `search` ([Lucide Icons](https://lucide.dev/) 기준)
   - **Show Ribbon Icon**: `On` (왼쪽 사이드바에 아이콘 생성)
4. 설정을 마친 후 옵시디언을 재시작하거나 명령어 팔레트(`Cmd/Ctrl + P`)에서 지정한 이름(예: `Open Theology AI Lab`)을 검색하여 실행합니다.
5. **UI 통합의 효과**: 옵시디언 사이드바나 탭에서 바로 검색하고, **'🟣 옵시디언 저장'** 버튼을 클릭하여 현재 열려있는 앱 안으로 연구 노트를 즉시 생성하는 원스톱 워크플로우가 완성됩니다.

---

## 3단계: AI 연동 (서재를 AI 도구로 활용)

옵시디언 내부에서 사용 중인 AI(Smart Connections 등)가 본 시스템의 신학 도서 데이터를 읽게 하는 방법입니다.

### 📡 MCP (Model Context Protocol) 서버 활용
본 프로젝트의 `server.py`는 표준 MCP 서버입니다.
1. **Obsidian MCP** 플러그인을 사용하여 `server.py`를 등록합니다.
2. 옵시디언 내 AI 비서에게 다음과 같이 요청할 수 있습니다:
   > "내 신학 서재에서 '바르트의 선택론'에 대해 관련 구절 3개만 찾아줘."
3. AI 비서가 직접 데이터베이스를 검색하여 결과를 답변에 반영합니다.

---

## 🚀 권장 워크플로우

1. **탐색**: **Custom Frames**를 통해 옵시디언 창 왼쪽에서 신학 주제를 검색합니다.
2. **정리**: 가치 있는 결과물을 발견하면 **'🟣 옵시디언 저장'**을 누릅니다.
3. **확장**: 생성된 노트를 옵시디언의 **'그래프 뷰'**에서 기존 노트들과 연결(Link)하여 자신만의 신학 지식 체계를 구축합니다.

> **Tip**: 옵시디언 사이드바의 **'🟣 옵시디언 열기'** 버튼은 현재 앱에 설정된 볼트를 즉시 활성화하여, 파일 탐색기에서 저장된 파일을 바로 확인할 수 있게 돕습니다.

---
**케리그마출판사 AI Lab**
